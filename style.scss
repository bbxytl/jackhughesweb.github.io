//Colour palette
$white: #FFFFFF;
$lightorange: #E67E22;
$darkorange: #D35400;
$lightblue: #3498DB;
$darkblue: #2980B9;
$lightgrey: #ECF0F1;
$silver: #BDC3C7;
$red: #C0392B;

$twitter: #33CCFF;
$dribbble: #EA4C89;
$github: #444444;
$appnet: #CBCCCE;
$googleplus: #D34836;

//Element colouring
$highlight: $darkblue;
$highlightlight: $lightblue;
$cardback: $lightgrey;
$button: $darkblue;
$buttonhover: $lightblue;
$buttonactive: $lightblue;
$buttoniconback: $silver;

//Mixins
@mixin margin-center {
   margin-left: auto;
   margin-right: auto;
}

@mixin text-center {
   text-align: center;
}

@mixin background-image-retina($file, $type, $width, $height) {
  background-image: url($file + '.' + $type);
 
  @media (-webkit-min-device-pixel-ratio: 2), (-moz-min-device-pixel-ratio: 2) {
    & {
      background-image: url($file + '@2x.' + $type);
      -webkit-background-size: $width $height;
    }
  }
}

//Start of stylesheet
*{
   font-family: 'Lato', sans-serif;
   -webkit-box-sizing: border-box;
   -moz-box-sizing: border-box;
   box-sizing: border-box;
}

body{
   background-color: $highlight;
   @include text-center;
   margin: 0;
   padding: 0;
   background-color: $cardback;
}

header{
   position: absolute;
   top: 0;
   left: 0;
   padding-top: 0.5em;
   padding-bottom: 0.5em;
   color: $white;
   width: 100%;
   background-color: $highlight;
   text-align: left;
   padding-left: 1em;
   > a, > a:active, > a:hover, > a:visited{
      color: $white;
      vertical-align: middle;
      padding: 0.5em;
      border-radius: 1em;
      text-decoration: none;
      -moz-transition: background-color 0.5s;
      -webkit-transition: background-color 0.5s;
      -o-transition: background-color 0.5s;
      transition: background-color 0.5s;
      &:hover{
         background-color: $buttonhover;
      }
   }
   i{
      height: 2em;
      width: 2em;
      display: inline-block;
      background-size: 80%;
      background-repeat: no-repeat;
      background-position: 50%;
      margin-left: 1em;
      vertical-align: middle;
      border-radius: 1em;
      -moz-transition: background-color 0.5s;
      -webkit-transition: background-color 0.5s;
      -o-transition: background-color 0.5s;
      transition: background-color 0.5s;
      > a, > a:active, > a:hover, > a:visited{
         display: block;
         height: 100%;
         width: 100%;
      }
      &:hover{
         background-color: $buttonhover;
      }
   }
   .icon-folder{
      background-image: url(iconmonstr-full-folder-icon.png);
   }
   .icon-rss{
      background-image: url(iconmonstr-rss-icon.png);
   }
   .icon-email{
      background-image: url(iconmonstr-email-icon.png);
   }
}

.card{
   background-color: $cardback;
   position: absolute;
   top: 50%;
   height: 16em;
   width: 30em;
   @media screen and (max-width: 30em) {
      width: 100% !important;
      margin-left: 0em !important;
      left: 0 !important;
   }
   margin-top: -8em;
   left: 50%;
   margin-left: -15em;
   > h1{
      font-size: 3em;
      margin: 0;
      margin-bottom: 0.2em;
   }
   > .sub{
      font-size: 1.2em;
   }
   > .social{
      @include margin-center;
      td{
         display: inline-block;
         width: 4em;
      }
      .icons{
         td{
            background-size: 4em !important;
            background-position: 50% !important;
            background-repeat: no-repeat;
            width: 3.2em !important;
            height: 3.2em !important;
            margin-left: 0.2em;
            margin-right: 0.2em;
            padding: 0;
            border-radius: 0.4em;
            margin-bottom: 0.3em;
            > a{
               height: 100%;
               width: 100%;
               display: block;
               cursor: pointer;
            }
         }
         .t{
            @include background-image-retina('iconmonstr-twitter-3-icon', 'png', 51px, 51px);
            height: 4.1em;
            -moz-transition: background-color 0.5s;
            -webkit-transition: background-color 0.5s;
            -o-transition: background-color 0.5s;
            transition: background-color 0.5s;
            &:hover{
               background-color: $twitter;
            } 
         }
         .d{
            @include background-image-retina('iconmonstr-dribbble-3-icon', 'png', 51px, 51px);
            height: 4.1em;
            -moz-transition: background-color 0.5s;
            -webkit-transition: background-color 0.5s;
            -o-transition: background-color 0.5s;
            transition: background-color 0.5s;
            &:hover{
               background-color: $dribbble;
            } 
         }
         .g{
            @include background-image-retina('iconmonstr-github-8-icon', 'png', 51px, 51px);
            height: 4.1em;
            -moz-transition: background-color 0.5s;
            -webkit-transition: background-color 0.5s;
            -o-transition: background-color 0.5s;
            transition: background-color 0.5s;
            &:hover{
               background-color: $github;
            } 
         }
      }
   }
   > a > span.button{
      display: block;
      &:hover{
         span, i{
            background-color: $buttonhover;
         }
      }
      &:active{
         span, i{
            background-color: $buttonactive;
         }
      }
      span{
         -moz-transition: background-color 0.5s;
         -webkit-transition: background-color 0.5s;
         -o-transition: background-color 0.5s;
         transition: background-color 0.5s;
         @media screen and (max-width: 11em) {
            border-top-left-radius: 1em;
            border-bottom-left-radius: 1em;
         }
         @media screen and (max-width: 9em) {
            width: 98%;
         }
         width: 9em;
         padding: 0.4em;
         display: inline-block;
         background-color: $button;
         border-top-right-radius: 1em;
         border-bottom-right-radius: 1em;
         color: $white;
         vertical-align: top;
         margin-bottom: 0.8em;
         height: 2em;
      }
      i{
         -moz-transition: background-color 0.5s;
         -webkit-transition: background-color 0.5s;
         -o-transition: background-color 0.5s;
         transition: background-color 0.5s;
         @media screen and (max-width: 11em) {
            display: none;
         }
         height: 2em;
         width: 2em;
         background-size: 1.5em 1.5em;
         background-repeat: no-repeat;
         background-position: 0.4em; 
         display: inline-block;
         vertical-align: top;
         border-top-left-radius: 1em;
         border-bottom-left-radius: 1em;
         background-color: $button;
      }
      .icon-folder{
         background-image: url(iconmonstr-full-folder-icon.png);
      }
      .icon-rss{
         background-image: url(iconmonstr-rss-icon.png);
      }
      .icon-email{
         background-image: url(iconmonstr-email-icon.png);
      }
   }
}

.work{
   @media screen and (max-width: 30em) {
      .smallpic{
         display: block !important; 
      }
      > .wrapper{
         width: 100% !important;
      }
      background-image: none !important;
      height: auto !important;
      margin-bottom: 1em;
   }
   @media screen and (max-width: 20em) {
      .smallpic{
         height: 12em !important;
      }
   }
   height: 50em;
   background-size: cover;
   background-position: center;
   background-repeat: no-repeat;
   .smallpic{
      display: none;
      height: 18em;
      width: 100%;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
   }
   > .wrapper{
      background-color: rgba(0, 0, 0, 0.8);
      width: 30em;
      margin-left: auto;
      color: $white;
      height: 100%;
      padding: 2em;
      a, a:active, a:hover, a:visited{
         color: $white;
      }
      a:hover .button{
         background-color: $buttonhover;
      }
      a:active .button{
         background-color: $buttonactive;
      }
      .button{
         width: 10em;
         padding: 0.4em;
         display: inline-block;
         background-color: $button;
         border-radius: 1em;
         color: $white;
         vertical-align: top;
         margin-bottom: 0.8em;
         height: 2em;
         -moz-transition: background-color 0.5s;
         -webkit-transition: background-color 0.5s;
         -o-transition: background-color 0.5s;
         transition: background-color 0.5s;
      }
   }
   &.waterclock, .waterclock{
      background-image: url(waterclock.png);
   }
   &.watercode, .watercode{
      background-image: url(watercode.png);
   }
   &.theterrain187, .theterrain187{
      background-image: url(theterrain187.png);
   }
   &.hydroelectric, .hydroelectric{
      background-image: url(Hydroelectric.png);
      background-position: top left !important;
   }
}


.posts{
   .post{
      text-align: left;
      margin-bottom: 1em;
      color: $white;
      @include margin-center;
      .header{
         background-color: $highlightlight;
         margin: 0;
         padding: 2em;
         text-align: left;
      }
      a, a:active, a:hover, a:visited{
         color: $white;
      }
      .content{
         padding: 2em;
         background-color: $highlight;
      }
      .narrow{
         width: 50em;
         @include margin-center;
         @media screen and (max-width: 50em){
            width: 100%;
         }
      }
   }
   .nocontenticon{
      height: 10em;
      width: 10em;
      background-image: url(iconmonstr-x-mark-4-icon.png);
      background-repeat: no-repeat;
      background-size: cover;
      @include margin-center;
   }  
}

.narrow{
   width: 50em;
   @media screen and (max-width: 50em){
      width: 100%;
   }
   @include margin-center;
   text-align: left;
   .button{
      width: 10em;
      padding: 0.5em;
      display: inline-block;
      background-color: $highlightlight;
      border-radius: 2em;
      color: $white;
      vertical-align: top;
      height: 2.1em;
      cursor: pointer;
      text-align: center;
      vertical-align: middle;
   }
   .smallbuttons{
      display: none;
      .button{
         max-width: 100%;
         width: 10em;
      }
   }
   .container{
      background-color: $highlight;
      width: 15em;
      height: 2.1em;
      margin-bottom: 0.8em;
      display: inline-block;
      border-radius: 2em;
      text-align: left !important;
      > .fullwidth{
         width: 100%;
         display: inline-block;
      }
   }
   &.likebarpadding{
      padding-left: 2em;
      padding-right: 2em;
      text-align: center;
   }
   .valignmiddle{
      vertical-align: top;
      padding: 0.4em 0.4em 0.4em 0;
      display: inline-block;
   }
   .likemessage{
      padding-left: 1em;
      vertical-align: middle;
   }
   &.commentspadding{
      padding: 2em;
      table{
         width: 100%;
         border-collapse: collapse;
         margin-bottom: 1em;
         margin-top: 1em;
         tr{
            width: 100%;
         }
         td{
            vertical-align: top;
            color: $white;
            &.userimg{
               width: 80px;
               height: auto;
               @media screen and (max-width: 11em){
                  width: 20px !important;
               }
               @media screen and (max-width: 15em){
                  width: 40px !important;
               }
               @media screen and (max-width: 19em){
                  width: 60px !important;
               }
               img{
                  height: auto;
                  width: 100%;
               }
            }
            &.name{
               background-color: $highlightlight !important;
               font-size: 105%;
            }
            &.date{
               font-size: 80%;
               padding-left: 2em !important;
            }
            &.comment{
               background-color: $highlightlight !important;
            }
            &.name, &.date, &.comment{
               padding: 1em;
               background-color: $highlight;
               
            }
         }
      }
   }
}

.newcomment{
   margin-left: auto;
   margin-right: auto;
   max-width: 50em;
   width: 100%;
   padding: 2em;
   input, textarea, label, td{
      vertical-align: top;
      text-align: left;
   }
   tr.name td.label, tr.email td.label, tr.comment td.label{
      vertical-align: top;
      text-align: right;
   }
   td.label{
       padding: 1em;
   }
   span.button{
      padding: 0.5em;
      display: inline-block;
      background-color: $button;
      border-radius: 1em;
      color: $white;
      margin-bottom: 0.8em;
      -moz-transition: background-color 0.5s;
      -webkit-transition: background-color 0.5s;
      -o-transition: background-color 0.5s;
      transition: background-color 0.5s;
      cursor: pointer;
   }
   span.button:hover{
      background-color: $buttonhover;
   }
   span.button:active{
      background-color: $buttonactive;
   }
   input, textarea{
      width: 100%;
      border: none;
      padding: 1em;
      border-radius: 1em;
      font-size: 100%;
      background-color: $highlightlight;
      color: $white;
      -moz-transition: background-color 0.5s;
      -webkit-transition: background-color 0.5s;
      -o-transition: background-color 0.5s;
      transition: background-color 0.5s;     
   }
   input:focus, textarea:focus{
      outline: none;
      background-color: $highlight;
   }
   input.invalid, textarea.invalid{
      background-color: $red !important;
   }
}

html.no-touch {
   .container{
      @media screen and (max-width: 15.56em){
         display: none;
      }
      @media screen and (max-width: 19em){
         width: 100% !important;
      }
   }
   .smallbuttons{
      @media screen and (max-width: 15.56em){
         display: inline-block;
      }
   }
}

html.touch{
   .container{
      display: none !important;
   }
   .smallbuttons{
      display: inline-block !important;
   }
}

html.placeholder{
   td.label{
      display: none;
   }
}

input.newcommentemail ~ span.note{
   display: none;
}

input.newcommentemail:focus ~ span.note{
   display: block;
}

::-webkit-input-placeholder {
   color: $white;
}

:-moz-placeholder { /* Firefox 18- */
   color: $white;  
}

::-moz-placeholder {  /* Firefox 19+ */
   color: $white;  
}

:-ms-input-placeholder {  
   color: $white;  
}

html.csstransitions.js{
   body.index{
      header{
         opacity: 0;  
      }
      div.card{
         h1{
            opacity: 0;
            position: relative;
            top: 2em;
         }
         span.sub1, span.sub2{
            opacity: 0;
         }
         table.social tr.icons td{
            opacity: 0;
         }
         > a > span{
            position: relative;
            top: 2em;
            opacity: 0;
         }
      }
   }
   body.index.animate{
      header{
         opacity: 1;
         -moz-transition: opacity 0.5s;
         -webkit-transition: opacity 0.5s;
         -o-transition: opacity 0.5s;
         transition: opacity 0.5s;
      }
      div.card{
         span.sub1{
            opacity: 1;
            -moz-transition: opacity 0.5s linear 0.5s;
            -webkit-transition: opacity 0.5s linear 0.5s;
            -o-transition: opacity 0.5s linear 0.5s;
            transition: opacity 0.5s linear 0.5s;
         }
         h1{
            opacity: 1;
            top: 0em;
            -moz-transition: opacity 0.5s linear 1s, top 0.5s linear 1s;
            -webkit-transition: opacity 0.5s linear 1s, top 0.5s linear 1s;
            -o-transition: opacity 0.5s linear 1s, top 0.5s linear 1s;
            transition: opacity 0.5s linear 1s, top 0.5s linear 1s;
         }
         span.sub2{
            opacity: 1;
            -moz-transition: opacity 0.5s linear 2s;
            -webkit-transition: opacity 0.5s linear 2s;
            -o-transition: opacity 0.5s linear 2s;
            transition: opacity 0.5s linear 2s;
         }
         table.social tr.icons td.t{
            opacity: 1;
            -moz-transition: opacity 0.5s linear 3s, background-color 0.5s;
            -webkit-transition: opacity 0.5s linear 3s, background-color 0.5s;
            -o-transition: opacity 0.5s linear 3s, background-color 0.5s;
            transition: opacity 0.5s linear 3s, background-color 0.5s;
         }
         table.social tr.icons td.d{
            opacity: 1;
            -moz-transition: opacity 0.5s linear 3.1s, background-color 0.5s;
            -webkit-transition: opacity 0.5s linear 3.1s, background-color 0.5s;
            -o-transition: opacity 0.5s linear 3.1s, background-color 0.5s;
            transition: opacity 0.5s linear 3.1s, background-color 0.5s;
         }
         table.social tr.icons td.g{
            opacity: 1;
            -moz-transition: opacity 0.5s linear 3.2s, background-color 0.5s;
            -webkit-transition: opacity 0.5s linear 3.2s, background-color 0.5s;
            -o-transition: opacity 0.5s linear 3.2s, background-color 0.5s;
            transition: opacity 0.5s linear 3.2s, background-color 0.5s;
         }
         > a > span{
            position: relative;
            top: 0em;
            opacity: 1;
            -moz-transition: opacity 0.5s linear 3.7s, top 0.5s linear 3.7s;
            -webkit-transition: opacity 0.5s linear 3.7s, top 0.5s linear 3.7s;
            -o-transition: opacity 0.5s linear 3.7s, top 0.5s linear 3.7s;
            transition: opacity 0.5s linear 3.7s, top 0.5s linear 3.7s;
         }
      }
   }
}

a.button{
   padding: 0.5em;
   display: inline-block;
   background-color: $button;
   border-radius: 1em;
   color: $white;
   margin-bottom: 0.8em;
   -moz-transition: background-color 0.5s;
   -webkit-transition: background-color 0.5s;
   -o-transition: background-color 0.5s;
   transition: background-color 0.5s;
   cursor: pointer;
   text-decoration: none;
   &:hover{
      background-color: $buttonhover;
   }
   &:active{
      background-color: $buttonactive;
   }
}

html.svg .card > .social .icons{
   .t{
      background-image: url('iconmonstr-twitter-3-icon.svg') !important;
   }
   .d{
      background-image: url('iconmonstr-dribbble-3-icon.svg') !important;
   }
   .g{
      background-image: url('iconmonstr-github-8-icon.svg') !important;
   }
}

h3{
   margin-top: 0;
}

html.svg{
   .icon-folder{
      background-image: url(iconmonstr-full-folder-icon.svg) !important;
   }
   .icon-rss{
      background-image: url(iconmonstr-rss-icon.svg) !important;
   }
   .icon-email{
      background-image: url(iconmonstr-email-icon.svg) !important;
   }
   .post > .header.icon-link > .narrow{
      background-image: url(iconmonstr-link-icon.svg) !important;
   }
   .post > .header.icon-pencil > .narrow{
      background-image: url(iconmonstr-pencil-9-icon.svg) !important;
   }
   .post > .header > .narrow{
      background-size: 4em;
      background-repeat: no-repeat;
      background-position: 0em 50%;
      padding-left: 4em;
   }
   .post > .content > .narrow{
      padding-left: 4em;
   }
   @media only screen and (max-width: 17em){
      .post > .header > .narrow{
         background-size: 2em;
         padding-left: 2.5em;
      }
      .post > .content > .narrow{
         padding-left: 2.5em;
      }
   }
}

html.js{
   .nojs{
      display: none;
   }
}

@media only screen and (max-width: 18em){
   header > i{
      margin-left: 0em !important;
   }
}

@media only screen and (max-height: 22em){
   .card{
      position: static;
      margin-top: 1em !important;
   }
}